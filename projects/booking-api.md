# Проект: API системы бронирования (Booking API)

## Описание предметной области

Система бронирования ресурсов — это сервис, позволяющий пользователям резервировать что-либо на определённое время: переговорные комнаты, рабочие места в коворкинге, номера в отеле, спортивные площадки, оборудование и т.п.

Главная сложность таких систем — работа с временными интервалами: нельзя допустить, чтобы два человека забронировали один и тот же ресурс на пересекающееся время. Система должна корректно проверять доступность и не допускать конфликтов.

**Реальные аналоги:** Booking.com, Calendly, системы бронирования переговорок в офисах, сервисы аренды оборудования.

Сами выбирает конкретную предметную область (отель, коворкинг, спортзал и т.д.) — это влияет на набор характеристик ресурсов, но не на общую архитектуру.

---

## Функциональные требования

### Пользователи

- Регистрация и авторизация
- Две роли: **администратор** (управляет ресурсами) и **пользователь** (бронирует)
- Пользователь видит только свои бронирования, администратор — все

### Ресурсы

- Администратор создаёт, редактирует и удаляет ресурсы
- У каждого ресурса есть набор характеристик (зависит от предметной области: вместимость, оснащение, этаж, тип и т.п.)
- Пользователь может просматривать список ресурсов и фильтровать по характеристикам

### Бронирование

- Пользователь бронирует ресурс на конкретную дату и временной интервал
- Система проверяет, что выбранное время не пересекается с существующими бронированиями
- Пользователь может отменить своё бронирование
- Администратор может отменить любое бронирование

### Расписание и поиск

- Просмотр расписания конкретного ресурса на день или неделю
- Поиск свободных ресурсов на заданную дату и время
- Пользователь видит историю своих бронирований

### Отзывы

- Пользователь может оставить отзыв и оценку после завершённого бронирования
- Средний рейтинг отображается у каждого ресурса

---

## Стек (на выбор студента)

| Стек    | Фреймворк            | ORM / Работа с БД         |
| ------- | -------------------- | ------------------------- |
| PHP     | Laravel              | Eloquent                  |
| Node.js | Express.js / Fastify | Sequelize / Prisma / Knex |
| Python  | Flask или Django     | SQLAlchemy / Django ORM   |
| Go      | Gin или Echo         | GORM                      |

База данных: **MySQL** или **PostgreSQL** (на выбор).

---

## Чекпоинты

### 1: Проектирование и старт

**Задачи:**

- Выбрать предметную область и стек
- Инициализировать проект и Git-репозиторий
- Спроектировать ER-диаграмму базы данных (самостоятельно)
- Спроектировать список эндпоинтов API (метод, URL, описание)
- Создать миграции на основе своей ER-диаграммы
- Написать README с описанием проекта и выбранной предметной области

**Демо:**

- Репозиторий на GitHub
- ER-диаграмма (draw.io, dbdiagram.io или от руки — не важно)
- Список спроектированных эндпоинтов
- Миграции запускаются без ошибок

---

### 2: Авторизация и CRUD ресурсов

**Задачи:**

- Реализовать регистрацию и авторизацию (JWT)
- Реализовать CRUD ресурсов (только для администратора)
- Добавить характеристики ресурсов
- Реализовать валидацию входных данных
- Подготовить сидеры/фикстуры с тестовыми данными

**Демо:**

- Живая демонстрация через Postman/Insomnia/curl:
  - Регистрация нового пользователя
  - Логин и получение токена
  - Создание, просмотр, редактирование и удаление ресурса
  - Попытка создать ресурс без авторизации → ошибка
  - Попытка создать ресурс от обычного пользователя → ошибка

---

### 3: Бронирование

**Задачи:**

- Реализовать создание бронирования (дата, время начала, время окончания)
- Реализовать проверку пересечений по времени (ключевая бизнес-логика)
- Отмена бронирования пользователем
- Отмена бронирования администратором
- Список бронирований текущего пользователя

**Демо:**

- Скринкаст или демонстрация через screen share:
  - Успешное бронирование ресурса
  - Попытка забронировать на пересекающееся время → отказ
  - Отмена бронирования
  - Просмотр своих бронирований

---

## Полезные ссылки

**По стекам:**

- Laravel: https://laravel.com/docs
- Express.js: https://expressjs.com
- Flask: https://flask.palletsprojects.com
- Django REST: https://www.django-rest-framework.org
- Gin (Go): https://gin-gonic.com/docs/
- Echo (Go): https://echo.labstack.com/docs

**Инструменты:**

- Swagger/OpenAPI: https://swagger.io/specification/
- dbdiagram.io — проектирование ER-диаграмм
- Postman: https://www.postman.com
- Docker: https://docs.docker.com/get-started/
- Docker Compose: https://docs.docker.com/compose/

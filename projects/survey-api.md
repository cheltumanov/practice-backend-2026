# Проект: API сервиса опросов и голосований (Survey API)

## Описание предметной области

Сервис опросов — это платформа, позволяющая создавать анкеты и голосования с различными типами вопросов, собирать ответы от респондентов и анализировать результаты. Такие системы используются для обратной связи от клиентов, внутренних опросов в компаниях, голосований, викторин и исследований.

Ключевые особенности предметной области: гибкая структура данных (опрос содержит вопросы разных типов, каждый тип требует своей валидации ответов), управление жизненным циклом опроса (черновик → опубликован → закрыт) и агрегация результатов.

**Реальные аналоги:** Google Forms, Typeform, SurveyMonkey, Яндекс.Формы.

---

## Функциональные требования

### Пользователи

- Регистрация и авторизация
- Две роли: **автор** (создаёт опросы) и **респондент** (проходит опросы)
- Один и тот же пользователь может быть и автором, и респондентом

### Управление опросами

- Автор создаёт опрос с заголовком и описанием
- Автор добавляет вопросы к опросу
- Поддерживаются типы вопросов: **одиночный выбор**, **множественный выбор**, **текстовый ответ**
- Автор задаёт варианты ответов для вопросов с выбором
- Автор управляет порядком вопросов
- Автор может редактировать опрос, пока он в статусе «черновик»

### Жизненный цикл опроса

- Опрос создаётся как **черновик**
- Автор **публикует** опрос — после этого его можно проходить
- Автор **закрывает** опрос — новые ответы не принимаются
- Опубликованный опрос нельзя редактировать (структуру вопросов)

### Прохождение опросов

- Респондент получает опрос с вопросами и вариантами
- Респондент отправляет ответы
- Система валидирует ответы в зависимости от типа вопроса (например, для одиночного выбора — ровно один вариант)
- Один респондент может пройти один опрос только один раз

### Аналитика

- Автор видит количество респондентов
- По каждому вопросу с выбором: количество и процент ответов по каждому варианту
- По текстовым вопросам: список ответов
- Экспорт результатов в JSON

---

## Стек (на выбор студента)

| Стек    | Фреймворк        | ORM / Работа с БД         |
| ------- | ---------------- | ------------------------- |
| PHP     | Laravel          | Eloquent                  |
| Node.js | Express.js       | Sequelize / Prisma / Knex |
| Python  | Flask или Django | SQLAlchemy / Django ORM   |
| Go      | Gin или Echo     | GORM                      |

База данных: **MySQL** или **PostgreSQL** (на выбор).

---

## Чекпоинты

### 1: Проектирование и старт

**Задачи:**

- Выбрать стек
- Инициализировать проект и Git-репозиторий
- Спроектировать ER-диаграмму базы данных (самостоятельно)
  - Подумать: как хранить разные типы вопросов? Как связать варианты с вопросами? Как хранить ответы респондентов?
- Спроектировать список эндпоинтов API (метод, URL, описание)
- Создать миграции
- Написать README с описанием проекта

**Демо:**

- Репозиторий на GitHub
- ER-диаграмма
- Список спроектированных эндпоинтов
- Миграции запускаются без ошибок

---

## Полезные ссылки

**По стекам:**

- Laravel: https://laravel.com/docs
- Express.js: https://expressjs.com
- Flask: https://flask.palletsprojects.com
- Django REST: https://www.django-rest-framework.org
- Gin (Go): https://gin-gonic.com/docs/
- Echo (Go): https://echo.labstack.com/docs

**Инструменты:**

- Swagger/OpenAPI: https://swagger.io/specification/
- dbdiagram.io — проектирование ER-диаграмм
- Postman: https://www.postman.com
- Docker: https://docs.docker.com/get-started/
- Docker Compose: https://docs.docker.com/compose/
